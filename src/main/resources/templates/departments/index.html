<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>departement-index</title>
</head>
<body>
	<h1>部署一覧</h1>
	<div>
		<p>キーワード</p>
		<form th:action="@{/department/search}" action="GET">
			<div>
				<input type="text" name="keyword" placeholder="検索したい部署を入力" th:value="${keyword}">
				<button type="submit">検索</button>
				<button type="button" onclick="location.href='/department/index'">クリア</button>
			</div>
		</form><br>
		<div th:if="${keyword}">
		<p>検索結果<span th:text="${#lists.size(departments)}"></span>件</p>
		</div>
		<div th:if="${successMessage}" th:text="${successMessage}" class="success-message"></div>
		<div th:if="${errorMessage}" th:text="${errorMessage}" class="error-message"></div>
			
		<div>	
			<button type="button" onclick="location.href='/department/create'">部署新規追加</button>
		</div>
		<div th:each="department : ${departments}">
			<p th:text="${department.nameJp}">チーム</p>
			<form th:action="@{/department/edit/{departmentId}(departmentId=${department.id})}" method="GET">
				<button type="submit">編集</button>
			</form>
		</div>
	</div>
</body>
</html>